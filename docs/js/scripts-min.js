"use strict";var rock=document.getElementById("rock"),paper=document.getElementById("paper"),scissors=document.getElementById("scissors"),selectedUser=document.getElementById("imgSelectedUser"),selectedMachine=document.getElementById("imgSelectedMachine"),button=document.getElementById("start"),timeHTML=document.getElementById("time"),userScoreHTML=document.getElementById("userScore"),machineScoreHTML=document.getElementById("machineScore"),userContainer=document.getElementById("userContainer"),machineContainer=document.getElementById("machineContainer"),scoreModal=document.getElementById("scoreModal"),startModal=document.getElementById("startModal"),restart=document.getElementById("restart"),startConfirm=document.getElementById("startConfirm"),roundsInput=document.getElementById("roundsInput"),currentRoundHTML=document.getElementById("currentRoundHTML"),cancel=document.getElementById("cancel"),user="",machine="",time=3,userScore=0,machineScore=0,gameStarted=!1,roundsToWin=0,currentRound=0;rock.addEventListener("click",(function(){gameStarted&&(selectedUser.src="assets/img/rockUser.png",rock.classList.add("focus"),paper.classList.remove("focus"),scissors.classList.remove("focus"),user="rock")})),paper.addEventListener("click",(function(){gameStarted&&(selectedUser.src="assets/img/paperUser.png",rock.classList.remove("focus"),paper.classList.add("focus"),scissors.classList.remove("focus"),user="paper")})),scissors.addEventListener("click",(function(){gameStarted&&(selectedUser.src="assets/img/scissorUser.png",rock.classList.remove("focus"),paper.classList.remove("focus"),scissors.classList.add("focus"),user="scissors")})),start.addEventListener("click",(function(){gameStarted=!0,selectedMachine.src="",selectedUser.src="",user="",machine="",rock.classList.remove("focus"),paper.classList.remove("focus"),scissors.classList.remove("focus"),userContainer.classList.remove("lose"),userContainer.classList.remove("win"),userContainer.classList.remove("tie"),machineContainer.classList.remove("win"),machineContainer.classList.remove("lose"),machineContainer.classList.remove("tie"),time=3,currentRound+=1,currentRoundHTML.innerHTML=currentRound,"Start"==start.innerHTML?(startModal.classList.add("lightbox--show"),start.innerHTML="Continue"):timer(),start.disabled=!0})),scoreModal.addEventListener("click",(function(e){e.target.classList.contains("lightbox")&&(scoreModal.classList.remove("lightbox--show"),reset())})),restart.addEventListener("click",(function(){scoreModal.classList.remove("lightbox--show"),reset()})),startConfirm.addEventListener("click",(function(e){e.preventDefault(),document.form.checkValidity()?(roundsToWin=roundsInput.value,startModal.classList.remove("lightbox--show"),document.getElementById("time").style.display="flex",document.getElementById("roundsContainer").style.display="block",currentRoundHTML.innerHTML=currentRound,timer()):""==roundsInput.value?alert("The input can't be empty"):roundsInput.value<=0&&alert("Enter a number bigger than 0")}));var startGame=function(){var e=Math.floor(3*Math.random()+1);1==e?(e="rock",selectedMachine.src="assets/img/rockMachine.png"):2==e?(e="paper",selectedMachine.src="assets/img/paperMachine.png"):3==e&&(e="scissors",selectedMachine.src="assets/img/scissorMachine.png"),validation(e,user)},validation=function(e,s){""==s?(machineScore+=1,machineContainer.classList.add("win"),userContainer.classList.add("lose")):"rock"==s?"scissors"==e?(userScore+=1,machineContainer.classList.add("lose"),userContainer.classList.add("win")):"paper"==e?(machineScore+=1,machineContainer.classList.add("win"),userContainer.classList.add("lose")):(machineContainer.classList.add("tie"),userContainer.classList.add("tie")):"paper"==s?"rock"==e?(userScore+=1,machineContainer.classList.add("lose"),userContainer.classList.add("win")):"scissors"==e?(machineScore+=1,machineContainer.classList.add("win"),userContainer.classList.add("lose")):(machineContainer.classList.add("tie"),userContainer.classList.add("tie")):"scissors"==s&&("paper"==e?(userScore+=1,machineContainer.classList.add("lose"),userContainer.classList.add("win")):"rock"==e?(machineScore+=1,machineContainer.classList.add("win"),userContainer.classList.add("lose")):(machineContainer.classList.add("tie"),userContainer.classList.add("tie"))),userScoreHTML.innerHTML=userScore,machineScoreHTML.innerHTML=machineScore},validateScore=function(){userScore>machineScore?(userContainer.classList.add("winning"),machineContainer.classList.remove("winning"),userContainer.classList.remove("global-tie"),machineContainer.classList.remove("global-tie")):machineScore>userScore?(userContainer.classList.remove("winning"),machineContainer.classList.add("winning"),userContainer.classList.remove("global-tie"),machineContainer.classList.remove("global-tie")):machineScore==userScore&&(userContainer.classList.remove("winning"),machineContainer.classList.remove("winning"),userContainer.classList.add("global-tie"),machineContainer.classList.add("global-tie")),roundsToWin==currentRound&&(start.innerHTML="Start",scoreModal.classList.add("lightbox--show"),document.getElementById("finalScoreUser").innerHTML=userScore,document.getElementById("finalScoreMachine").innerHTML=machineScore,userScore>machineScore?document.getElementById("winner").innerHTML="User Wins!!":machineScore>userScore?document.getElementById("winner").innerHTML="Machine Wins!!":machineScore==userScore&&(document.getElementById("winner").innerHTML="Tie!!"))},timer=function(){timeHTML.innerHTML=time,(time-=1)>=0?setTimeout("timer()",1e3):(startGame(),validateScore(),start.disabled=!1,gameStarted=!1)},reset=function(){userScore=0,machineScore=0,currentRound=0,userScoreHTML.innerHTML=userScore,machineScoreHTML.innerHTML=machineScore,rock.classList.remove("focus"),paper.classList.remove("focus"),scissors.classList.remove("focus"),userContainer.classList.remove("lose"),userContainer.classList.remove("win"),userContainer.classList.remove("tie"),userContainer.classList.remove("winning"),userContainer.classList.remove("global-tie"),machineContainer.classList.remove("win"),machineContainer.classList.remove("lose"),machineContainer.classList.remove("tie"),machineContainer.classList.remove("winning"),machineContainer.classList.remove("global-tie"),document.getElementById("time").style.display="none",document.getElementById("roundsContainer").style.display="none",selectedMachine.src="",selectedUser.src=""};