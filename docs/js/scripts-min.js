"use strict";var rock=document.getElementById("rock"),paper=document.getElementById("paper"),scissors=document.getElementById("scissors"),selectedUser=document.getElementById("imgSelectedUser"),selectedMachine=document.getElementById("imgSelectedMachine"),button=document.getElementById("start"),timeHTML=document.getElementById("time"),userScoreHTML=document.getElementById("userScore"),machineScoreHTML=document.getElementById("machineScore"),userContainer=document.getElementById("userContainer"),machineContainer=document.getElementById("machineContainer"),scoreModal=document.getElementById("scoreModal"),startModal=document.getElementById("startModal"),restart=document.getElementById("restart"),startConfirm=document.getElementById("startConfirm"),roundsInput=document.getElementById("roundsInput"),user="",machine="",time=3,userScore=0,machineScore=0,gameStarted=!1,roundsToWin=0;rock.addEventListener("click",(function(){gameStarted&&(selectedUser.src="assets/img/rockUser.png",rock.classList.add("focus"),paper.classList.remove("focus"),scissors.classList.remove("focus"),user="rock")})),paper.addEventListener("click",(function(){gameStarted&&(selectedUser.src="assets/img/paperUser.png",rock.classList.remove("focus"),paper.classList.add("focus"),scissors.classList.remove("focus"),user="paper")})),scissors.addEventListener("click",(function(){gameStarted&&(selectedUser.src="assets/img/scissorUser.png",rock.classList.remove("focus"),paper.classList.remove("focus"),scissors.classList.add("focus"),user="scissors")})),start.addEventListener("click",(function(){gameStarted=!0,selectedMachine.src="",selectedUser.src="",user="",machine="",rock.classList.remove("focus"),paper.classList.remove("focus"),scissors.classList.remove("focus"),userContainer.classList.remove("lose"),userContainer.classList.remove("win"),machineContainer.classList.remove("win"),machineContainer.classList.remove("lose"),time=3,"Start"==start.innerHTML?(startModal.classList.add("lightbox--show"),start.innerHTML="Continue"):timer(),start.disabled=!0})),scoreModal.addEventListener("click",(function(e){e.target.classList.contains("lightbox")&&(scoreModal.classList.remove("lightbox--show"),reset())})),restart.addEventListener("click",(function(){scoreModal.classList.remove("lightbox--show"),reset()})),startConfirm.addEventListener("click",(function(e){e.preventDefault(),document.form.checkValidity()?(roundsToWin=roundsInput.value,startModal.classList.remove("lightbox--show"),document.getElementById("time").style.display="flex",document.getElementById("pointsContainer").style.display="block",document.getElementById("points").innerHTML=roundsToWin,timer()):""==roundsInput.value?alert("The input can't be empty"):roundsInput.value<=0&&alert("Enter a number bigger than 0")}));var startGame=function(){var e=Math.floor(3*Math.random()+1);1==e?(e="rock",selectedMachine.src="assets/img/rockMachine.png"):2==e?(e="paper",selectedMachine.src="assets/img/paperMachine.png"):3==e&&(e="scissors",selectedMachine.src="assets/img/scissorMachine.png"),validation(e,user)},validation=function(e,s){""==s?(machineScore+=1,machineContainer.classList.add("win"),userContainer.classList.add("lose")):"rock"==s?"scissors"==e?(userScore+=1,machineContainer.classList.add("lose"),userContainer.classList.add("win")):"paper"==e&&(machineScore+=1,machineContainer.classList.add("win"),userContainer.classList.add("lose")):"paper"==s?"rock"==e?(userScore+=1,machineContainer.classList.add("lose"),userContainer.classList.add("win")):"scissors"==e&&(machineScore+=1,machineContainer.classList.add("win"),userContainer.classList.add("lose")):"scissors"==s&&("paper"==e?(userScore+=1,machineContainer.classList.add("lose"),userContainer.classList.add("win")):"rock"==e&&(machineScore+=1,machineContainer.classList.add("win"),userContainer.classList.add("lose"))),userScoreHTML.innerHTML=userScore,machineScoreHTML.innerHTML=machineScore},validateScore=function(){userScore>machineScore?(userContainer.classList.add("winning"),machineContainer.classList.remove("winning")):machineScore>userScore&&(userContainer.classList.remove("winning"),machineContainer.classList.add("winning")),userScore==roundsToWin?(start.innerHTML="Start",scoreModal.classList.add("lightbox--show"),document.getElementById("finalScoreUser").innerHTML=userScore,document.getElementById("finalScoreMachine").innerHTML=machineScore,document.getElementById("winner").innerHTML="User Wins!!"):machineScore==roundsToWin&&(start.innerHTML="Start",scoreModal.classList.add("lightbox--show"),document.getElementById("finalScoreUser").innerHTML=userScore,document.getElementById("finalScoreMachine").innerHTML=machineScore,document.getElementById("winner").innerHTML="Machine Wins!!")},timer=function(){timeHTML.innerHTML=time,(time-=1)>=0?setTimeout("timer()",1e3):(startGame(),validateScore(),start.disabled=!1,gameStarted=!1)},reset=function(){userScore=0,machineScore=0,userScoreHTML.innerHTML=userScore,machineScoreHTML.innerHTML=machineScore,rock.classList.remove("focus"),paper.classList.remove("focus"),scissors.classList.remove("focus"),userContainer.classList.remove("lose"),userContainer.classList.remove("win"),userContainer.classList.remove("winning"),machineContainer.classList.remove("win"),machineContainer.classList.remove("lose"),machineContainer.classList.remove("winning"),document.getElementById("time").style.display="none",document.getElementById("pointsContainer").style.display="none",selectedMachine.src="",selectedUser.src=""};